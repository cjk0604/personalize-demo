{"version":3,"sources":["component/MovieCardImage.jsx","util/Utils.jsx","component/MoviesListCardGroup.jsx","component/MoviesList.jsx","context/Auth.context.jsx","component/RecommendationMovieList.jsx","component/MovieDetails.jsx","Dashoboard.jsx","login/Login.jsx","App.js","index.js"],"names":["MovieCardImage","movieName","minHeight","imageUrl","fontSize","Segment","style","display","Image","centered","src","data","a","Data","USER_ID","ITEM_ID","TIMESTAMP","Date","now","toString","EVENT_TYPE","PartitionKey","uuidv4","axios","put","then","response","console","log","catch","error","MoviesListCardGroup","items","pageViewOrigin","cardStyle","useTracking","page","dispatch","dispatchUserEvent","Track","trackEvent","Card","Group","map","movie","as","Link","to","pathname","id","state","onClick","movieId","name","Content","score","Meta","Header","Description","Rating","icon","defaultRating","maxRating","category","extra","MoviesList","React","useState","movies","setMovies","get_movie_url","useEffect","get","fetchData","document","title","Container","marginTop","AuthContext","createContext","initialState","isLoggedIn","isLoginPending","loginError","username","userId","ContextProvider","props","useSetState","setState","setLoginPending","setLoginSuccess","setLoginError","setUserName","setUserId","Provider","value","login","email","password","fetchLogin","logout","children","callback","Error","RecommendedMovieList","recommendedMovies","margin","width","maxWidth","length","Grid","columns","Column","Placeholder","rectangular","Line","MovieDetails","locationState","useContext","ContextState","setMovie","loading","setLoading","setRecommendedMovies","recommendedMovies2","setRecommendedMovies2","a_movie_api","loadDealInfo","realtime_api","batch_api","fetchData2","Icon","Divider","hidden","fluid","Dashboard","Menu","fixed","color","inverted","Item","header","href","position","link","e","preventDefault","path","exact","component","render","match","params","location","LoginForm","Items","size","text","onSubmit","className","htmlFor","type","onChange","target","placeholder","message","App","Login","AppWithProvider","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.c2651df1.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Image, Segment } from 'semantic-ui-react'\n\nfunction MovieCardImage({movieName, minHeight, fontSize, imageUrl}) {\n  \n  \n    return (\n      <Segment style={{minHeight, display: 'flex'}}>\n        <Image centered src={ imageUrl }  />\n      </Segment>\n    );\n  }\n  \n  MovieCardImage.propTypes = {\n    dealName: PropTypes.string,\n    minHeight: PropTypes.number,\n    fontSize: PropTypes.number,\n    imageUrl: PropTypes.string\n  };\n\n  export default MovieCardImage;","import { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios';\n\nexport async function dispatchUserEvent(data) {\n    var user = \"1test\"\n\n    // populate basic event\n    // React에서는 Date를 밀리세컨드로 보내고, Personalize에서는 세컨드로 보낸다\n    var Data = { \n        \n        USER_ID: \"1\",\n        ITEM_ID: data['movieId'] ?? '',\n        TIMESTAMP: (Date.now()).toString(),\n        EVENT_TYPE: data['EVENT_TYPE'] ?? '',\n    }\n    // var event_to_kinesis = {\n    //     \"Data\":  event\n    // }\n    \n    var PartitionKey = uuidv4()\n    // Object.assign(event_to_kinesis);\n\n    // event['meta'] = meta;\n    // console.log(JSON.stringify(event_to_kinesis));\n\n    // Push to Kinesis putAPI\n    // const url = \"https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/stream/demogoprime-kinesis-stream-test/record\";\n    const url = \"https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/stream/demogoprime-kinesis-stream-prd/record\"\n\n    await axios.put(url, {\n        Data, PartitionKey\n    })\n    .then(response => {\n        console.log(response);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n    \n}\n","import React, {useContext} from 'react';\n// import { AuthContext } from '../context/Auth.context';\nimport PropTypes from 'prop-types';\n\nimport { BrowserRouter as Router, Route, NavLink, Link } from 'react-router-dom';\n\nimport { Card, Rating, Icon } from 'semantic-ui-react'\n\nimport MovieCardImage from './MovieCardImage'\n\nimport { useTracking } from 'react-tracking';\nimport { dispatchUserEvent } from '../util/Utils';\n\n\n\n\n\nfunction MoviesListCardGroup({ items, pageViewOrigin, cardStyle }) {\n    // console.log(items)\n\n    // const { state: ContextState } = useContext(AuthContext);\n    // const {userId} = ContextState;\n\n    const { Track, trackEvent } = useTracking({page: 'MovieListCardPage'}, {\n      dispatch: (data) => dispatchUserEvent(data)\n    });\n  \n\n    function movieCards() {\n      return items\n        .map(movie =>\n          <Card\n            key={movie.id}\n            as={Link} to={{ pathname: `/movies/${movie.id}`, state:  {pageViewOrigin}  }}\n            style={cardStyle}\n            onClick={() => { trackEvent({ EVENT_TYPE: 'click', movieId: `${movie.id}` }); }}\n            >\n  \n            <MovieCardImage movieName={movie.name} minHeight={140} fontSize={24} imageUrl={movie.imageUrl}\n            />\n            <Card.Content>\n              {movie.score? <Card.Meta as=\"h1\">{movie.name}</Card.Meta> : <Card.Header>{movie.name}</Card.Header> }\n              <Card.Description><Rating icon='star' defaultRating={4} maxRating={5} /></Card.Description>\n              {/* <Card.Description><Icon name='tag'/> {movie.category}</Card.Description> */}\n              \n                  {movie.category}\n            \n            </Card.Content>\n            <Card.Content extra>\n                {movie.score? <>Score: <strong>{movie.score}</strong></> : <Card.Meta >{movie.score}</Card.Meta>}\n            </Card.Content>\n          </Card>\n        );\n    };\n  \n    return (\n      <Track>\n      <Card.Group centered>\n        {movieCards()}\n      </Card.Group>\n      </Track>\n    );\n  };\n  \n  MoviesListCardGroup.propTypes = {\n    items: PropTypes.array,\n    pageViewOrigin: PropTypes.string,\n    cardStyle: PropTypes.object\n  };\n\n  export default MoviesListCardGroup;","import React from 'react';\nimport axios from 'axios';\n\n\nimport { Container } from 'semantic-ui-react'\n\nimport MoviesListCardGroup from './MoviesListCardGroup';\n\nfunction MoviesList() {\n    const [movies, setMovies] = React.useState([]);\n    // const [movies, setMovies] = React.useState([]);\n\n    // DynamoDB에 저장된 모든 영화 정보를 불러옵니다 (GET)\n    // get_movie_url을 CloudFormation을 통해 생성된 API Gateway 엔드포인트로 변경하셔야 합니다.\n    const get_movie_url = 'https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/movie'\n    React.useEffect(() => {\n      async function fetchData () {\n        const response = await axios.get(\n          get_movie_url,);\n         console.log((response.data)['movies']);\n         setMovies((response.data)['movies'])\n        //  console.log((response.data));\n        //  setMovies((response.data))\n        \n        \n      }\n      fetchData();\n    }, []);\n    \n  \n    document.title = 'DemoGo Prime';\n    return (\n      <Container style={{ marginTop: 70 }}>\n        <MoviesListCardGroup items={movies} pageViewOrigin='Browse'/>\n      </Container>\n    );\n  };\n\n  export default MoviesList;","import React from 'react';\nimport { useSetState } from 'react-use';\nimport axios from 'axios';\n\nexport const AuthContext = React.createContext(null);\n\nconst initialState = {\n  isLoggedIn: false,\n  isLoginPending: false,\n  loginError: null,\n  username: \"\",\n  userId: \"\"\n}\n\nexport const ContextProvider = props => {\n  const [state, setState] = useSetState(initialState);\n\n  const setLoginPending = (isLoginPending) => setState({isLoginPending});\n  const setLoginSuccess = (isLoggedIn) => setState({isLoggedIn});\n  const setLoginError = (loginError) => setState({loginError});\n  const setUserName = (username) => setState({username});\n  const setUserId = (userId) => setState({userId});\n\n  const login = (email, password, id) => {\n    setLoginPending(true);\n    setLoginSuccess(false);\n    setLoginError(null);\n    setUserName(\"\");\n    setUserId(\"\");\n\n    fetchLogin( email, password, id, error => {\n      setLoginPending(false);\n\n      if (!error) {\n        setLoginSuccess(true);\n        setUserName(email);\n        (email === \"admin\")? setUserId(\"1\") : setUserId(\"4\");\n      } else {\n        setLoginError(error);\n      }\n    })\n  }\n\n  const logout = () => {\n    setLoginPending(false);\n    setLoginSuccess(false);\n    setUserName(\"\");\n    setUserId(\"\");\n    setLoginError(null);\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        state,\n        login,\n        logout,\n      }}\n    >\n      {props.children}\n    </AuthContext.Provider>\n  );\n};\n\n// Login data from DDB\nasync function fetchData () {\n  const response = await axios.get(\n      'https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/user',);\n   console.log((response.data).Items);\n   return (response.data).Items;\n  //  setMovies((response.data)['movies'])\n  \n  \n}\n\n\n// fake login\nconst fetchLogin = (email, password, id, callback) => {\n  // setTimeout(() => {\n    // const response = axios.get(\n    //   'https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/user',);\n    //   console.log((response.data)['user']);\n      // setMovies((response.data)['user'])\n      // const result = fetchData();\n      // const username = result.find( ({ name }) => name === 'admin' );\n      // console.log(\"result: \", result)\n    if (email === 'admin' && password === 'admin') {\n      return callback(null);\n    }\n    else if (email === 'admin2' && password === 'admin2'){\n      return callback(null);\n    }\n    else {\n      return callback(new Error('Invalid email and password'));\n    }\n}\n  // }, 1000);","import React from 'react'\nimport PropTypes from 'prop-types';\n\nimport { Segment, Header, Grid, Placeholder, } from 'semantic-ui-react'\n\nimport MoviesListCardGroup from './MoviesListCardGroup'\n\nfunction RecommendedMovieList({ recommendedMovies, title }) {\n\n    return (\n      <Segment style={{ margin: 'auto', width: '100%', maxWidth: 720 }}>\n        <Header as='h2'>{title}</Header>\n        { recommendedMovies.length > 0 ? (\n          <MoviesListCardGroup\n            items={recommendedMovies}\n            pageViewOrigin='Recommendations'\n            cardStyle={{ width: '100%', maxWidth: 200 }}/>\n        ) : \n        (\n          <Grid columns={3}>\n            <Grid.Column>\n              <Placeholder>\n                <Placeholder.Image rectangular/>\n                <Placeholder.Line length='long'/>\n                <Placeholder.Line/>\n              </Placeholder>\n            </Grid.Column>\n            <Grid.Column>\n              <Placeholder>\n                <Placeholder.Image rectangular/>\n                <Placeholder.Line length='long'/>\n                <Placeholder.Line/>\n              </Placeholder>\n            </Grid.Column>\n            <Grid.Column>\n              <Placeholder>\n                <Placeholder.Image rectangular/>\n                <Placeholder.Line length='long'/>\n                <Placeholder.Line/>\n              </Placeholder>\n            </Grid.Column>\n          </Grid>\n        ) }\n      </Segment>\n    );\n  };\n  \n  RecommendedMovieList.propTypes = {\n    recommendedMovies: PropTypes.array\n  };\n\n  export default RecommendedMovieList;","import React, {useContext} from 'react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\n\nimport { BrowserRouter as Router, Route, NavLink, Link } from 'react-router-dom';\n\nimport { AuthContext } from '../context/Auth.context.jsx';\n\n\nimport { Container, Divider, Card, Placeholder, Button, Icon, Rating } from 'semantic-ui-react'\n\nimport MovieCardImage from './MovieCardImage'\nimport RecommendedMovieList from './RecommendationMovieList';\n\n// 영화 상세 페이지\nfunction MovieDetails({ id, locationState }) {\n  const { state: ContextState, login } = useContext(AuthContext);\n  const {\n    isLoginPending,\n    isLoggedIn,\n    loginError,\n    username,\n    userId\n  } = ContextState;\n    const [movie, setMovie] = React.useState({});\n    const [loading, setLoading] = React.useState(true);\n    const [recommendedMovies, setRecommendedMovies] = React.useState([]);\n    const [recommendedMovies2, setRecommendedMovies2] = React.useState([]);\n    // const { state } = useContext(AuthContext);\n  \n    // DynamoDB에서 특정 Movie Id에 대한 상세 정보를 불러옵니다.\n    // get_movie_url을 CloudFormation을 통해 생성된 API Gateway 엔드포인트로 변경하셔야 합니다.\n    const get_a_movie_url = `https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/movie`\n    const a_movie_api = `${get_a_movie_url}/${id}`\n    React.useEffect(() => {\n      \n      async function loadDealInfo() {\n\n        const response = await axios.get(\n          a_movie_api,\n      );\n       console.log((response.data));\n       setMovie((response.data))\n       setLoading(false);\n\n        document.title = `${response.data.name} - DemoGo Prime`;\n  \n      };\n      loadDealInfo();\n  \n      return () => {\n        setMovie({});\n        setLoading(true);\n      };\n    }, [id, locationState]);\n\n\n    // Personalize를 통해 생성된 실시간 추천 데이터를 불러옵니다.\n    // get_realtime_recommendation을 CloudFormation을 통해 생성된 API Gateway 엔드포인트로 변경하셔야 합니다.\n    const get_realtime_recommendation = `https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/recommendation`\n    const realtime_api = `${get_realtime_recommendation}/${userId}`\n    React.useEffect(() => {\n      async function fetchData () {\n        const response = await axios.get(\n          realtime_api,);\n         console.log((response.data)['movies']);\n        //  console.log(\"state.username:\",username)\n         setRecommendedMovies((response.data)['movies'])\n        \n        \n      }\n      fetchData();\n      \n      // Personalize를 통해 생성된 배치 추천 데이터를 불러옵니다.\n      // get_batch_recommendation을 CloudFormation을 통해 생성된 API Gateway 엔드포인트로 변경하셔야 합니다.\n      const get_batch_recommendation = `https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/recommendation/batch`\n      const batch_api = `${get_batch_recommendation}/${userId}`\n      async function fetchData2 () {\n        const response = await axios.get(\n          batch_api,);\n         console.log(\"batch\", (response.data)['movies']);\n        //  console.log(\"state.username:\",username)\n         setRecommendedMovies2((response.data)['movies'])\n        \n        \n      }\n      fetchData2();\n    }, []);\n  \n    return (\n      <Container>\n        <NavLink to='/'><Icon name='arrow left'/>Back to Movie list</NavLink>\n        <Divider hidden/>\n        <Card key={movie.id} style={{ width: '100%', maxWidth: 720, minHeight: 100, margin: 'auto' }}>\n          {loading ? (\n            <Placeholder fluid style={{minHeight: 320}}>\n              <Placeholder.Image/>\n            </Placeholder>\n          ) : \n          (\n            <MovieCardImage movieName={movie.name} minHeight={100} fontSize={48} imageUrl={movie.imageUrl}/>\n          )}\n          {loading ? (\n            <Placeholder>\n              <Placeholder.Line/>\n              <Placeholder.Line/>          \n            </Placeholder>\n          ) : (\n            <Card.Content>\n              <Card.Header>{movie.name}</Card.Header>\n              <Card.Meta><Icon name='tag'/> {movie.category}</Card.Meta>\n              <Card.Description><Rating icon='star' defaultRating={4} maxRating={5} /></Card.Description>\n              <Card.Header as=\"h1\"> </Card.Header>\n              <Card.Description>A thief who steals corporate secrets through the use of dream-sharing technology is given the inverse task of planting an idea into the mind of a C.E.O.</Card.Description>\n            </Card.Content>\n          )}\n  \n        </Card>\n        <Divider hidden/>\n        <RecommendedMovieList recommendedMovies={recommendedMovies} title = \"실시간 추천 리스트\"/>\n        <RecommendedMovieList recommendedMovies={recommendedMovies2} title = \"배치(Daily) 추천 리스트\"/>\n      </Container>\n    );\n  };\n  \n  MovieDetails.propTypes = {\n    id: PropTypes.string,\n    locationState: PropTypes.object\n  };\n\n  export default MovieDetails;","import React, { useContext } from 'react'\n\nimport { BrowserRouter as Router, Route, NavLink, Link } from 'react-router-dom';\n\nimport { Menu, Container, Icon } from 'semantic-ui-react'\nimport MoviesList from './component/MoviesList'\nimport MovieDetails from './component/MovieDetails'\nimport { AuthContext } from './context/Auth.context';\n\n\nfunction Dashboard() {\n\n    const { logout } = useContext(AuthContext)\n    const onLogout = (e) => {\n        e.preventDefault();\n        logout();\n    }\n  \n    return (\n        <div>\n            <Router>\n            <Menu fixed='top' color='teal' inverted>\n                <Menu.Menu>\n                <Menu.Item header href='/'><Icon name='tv'/>DemoGo Prime</Menu.Item>\n                </Menu.Menu>\n                <Menu.Menu position='right'>\n                <Menu.Item link>Generate</Menu.Item>\n                <Menu.Item link onClick={onLogout}>Log out</Menu.Item>\n                </Menu.Menu>\n            </Menu>\n\n            <Container style={{ marginTop: 70 }}>\n                <h1>Welcome to the Unicorn Company</h1>\n                \n            </Container>\n\n            <Container style={{ marginTop: 70 }}>\n                <Route path='/' exact component={() => \n                <MoviesList/>\n                }/>\n                <Route path='/movies/:movieId' render={props => \n                <MovieDetails id={props.match.params.movieId} locationState={props.location.state}/>\n                }/>\n                {/* <Route path='/login' exact component={() => <Login />} /> */}\n            </Container>\n            </Router>\n        </div>\n    );\n  }\n\n  export default Dashboard;","import React, {useContext} from 'react';\nimport { useSetState } from 'react-use';\nimport axios from 'axios';\n\nimport { AuthContext } from '../context/Auth.context';\n\nimport { Image, Container } from 'semantic-ui-react'\n\nconst initialState = {\n  email: '',\n  password: '',\n  id: ''\n}\n\nconst LoginForm = () => {\n  const { state: ContextState, login } = useContext(AuthContext);\n  const {\n    isLoginPending,\n    isLoggedIn,\n    loginError,\n    username,\n    userId\n  } = ContextState;\n  const [state, setState] = useSetState(initialState);\n\n  const onSubmit = (e) => {\n    e.preventDefault();\n    const { email, password, id } = state;\n    login(email, password, id);\n    setState({\n      email: '',\n      password: '',\n      id: ''\n    });\n  }\n\n  React.useEffect(() => {\n    async function fetchData () {\n      const response = await axios.get(\n        'https://k1js8ud1xd.execute-api.us-east-1.amazonaws.com/prod/user',);\n     console.log((response.data).Items);\n     return (response.data).Items;\n      //  setMovies((response.data)['Item'])\n      \n      \n    }\n    fetchData();\n  }, []);\n    \n  return (\n    <>\n    <Image src=\"/image/unicorngym.png\" centered size='medium' />\n    <Container text>\n    <form name=\"loginForm\" onSubmit={onSubmit}>\n      \n      <div className=\"row\">\n\n        <div className=\"col-sm-3 col-md-6\">\n          <label htmlFor=\"email\" >Username</label>\n        </div>\n        \n        <div className=\"col-sm-9 col-md-6\">\n          <input \n            type=\"text\" \n            name=\"email\" \n            onChange={e => setState({email: e.target.value})} \n            value={state.email} \n            placeholder=\"admin\" \n          />\n        </div>\n\n        <div className=\"col-sm-3 col-md-6\">\n          <label htmlFor=\"password\" value=\"admin\">Password</label>\n        </div>\n        <div className=\"col-sm-9 col-md-6\">\n            <input \n              type=\"password\" \n              name=\"password\" \n              onChange={e => setState({password: e.target.value})} \n              value={state.password} \n              placeholder=\"admin\" \n            />\n        </div>\n\n        <div className=\"col-sm-3 col-md-6\">\n        </div>\n        <div className=\"col-sm-9 col-md-6\">\n          <input className=\"primary\" type=\"submit\" value=\"Login\" />\n        </div>\n        \n      </div>\n\n      { isLoginPending && <div>Please wait...</div> }\n      { isLoggedIn && <div>Success.</div> }\n      { loginError && <div>{loginError.message}</div> }\n    </form>\n    </Container>\n    </>\n  )\n}\n\n\nexport default LoginForm;","import React, {useContext} from 'react';\nimport './App.css';\n\n// React 라우터, UI 라이브러리\n\nimport Dashboard from './Dashoboard'\n\n// To store login userid info, app uses Context Provide\nimport { AuthContext } from './context/Auth.context.jsx';\n\nimport Login from './login/Login';\n\n\nfunction App() {  \n  const { state } = useContext(AuthContext);\n  console.log(\"state.isLoggedIn: \",state.isLoggedIn)\n  console.log(\"state.username: \",state.username)\n  console.log(\"state.userId: \",state.userId)\n\n  document.title = 'Demogo Prime';\n  if (!state.isLoggedIn){\n    return(\n      <Login />\n    )\n  } \n  else{\n    return  (\n      <div className='App'>\n       <Dashboard />\n      </div>\n  ); \n  }\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\nimport { ContextProvider } from './context/Auth.context.jsx';\n\n\nfunction AppWithProvider() {\n  return (\n    <ContextProvider value={500}>\n    <App />\n    </ContextProvider>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<AppWithProvider />, rootElement)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}